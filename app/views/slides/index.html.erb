<div id="blue">
  <div class="container">
    <div class="row centered">
      <div class="col-lg-8 col-lg-offset-2">
      <h4><b>Current Slides</b></h4>
      <button type="button" class="btn btn-info btn-lg" data-toggle="modal" data-target="#createSlideModal">Upload New Slide</button>
      <br><br>
      <input type="text" id='slide_search' placeholder='Search for slides' class='form-control'>
      </div>
    </div><!-- row -->
  </div><!-- container -->
</div><!-- blue wrap -->
<div class="container results_container">
  <%=  render :partial => 'results', :locals => { :slides => @slides, :from => 'index' } %>
</div>


<script>
$(document).ready(function() {
  $('body').on('keyup', '#slide_search', function(event) {
    event.preventDefault();
    var url = '/slides/search_reload_pag'
    $.ajax({
      url: url,
      data: {page: 1, search: $(this).val(), from: 'index'},
    })
    .done(function(data) {
      $('.results_container').html(data);
    })
  });


  $('body').on('click', '.pagination_link_container a', function(event) {
    event.preventDefault();
    var page = $(this).attr('href').split('=')[1];
    var url = '/slides/reload_pag'

    $.ajax({
      url: url,
      data: {page: page},
    })
    .done(function(data) {
      $('.results_container').html(data);
    })
  });

  $('body').on('click', '.inspect_this_slide', function(event) {
    var id = $(this).attr('data-id');
    $.ajax({
      url: '/slides/'+id+'/inspect_modal',
    })
    .done(function(data) {
      $('#inspectSlide').html(data)
    })
  });
});


</script>



<!-- Create Slide Modal -->
<div id="inspectSlide" class="modal fade" role="dialog">
  <div class="modal-dialog">
      <div class="modal-content">
    <div class="modal-header">
      <button type="button" class="close" data-dismiss="modal">&times;</button>
      <h4 class="modal-title"><%=  %><span id="prog_report"></span></h4>
    </div>
    <div class="modal-body">
      <img src="<%=  %>" alt="">
    </div>
    <div class="modal-footer">
      <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
    </div>
  </div>

  </div>
</div>
